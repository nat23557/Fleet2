{% extends 'index.html' %}
{% load static %}

{% block content %}
<div class="dashboard" style="max-width:1000px;margin-inline:auto;">
  <div class="dashboard-hero" style="margin-bottom:1rem;">
    <div class="dashboard-hero-main">
      <h1 style="margin:0;">Welcome</h1>
      <p class="dashboard-subtext">Choose where to go. Clean and simple.</p>
    </div>
    <div class="dashboard-hero-meta">
      <span class="role-chip">{{ user_role|title }}</span>
    </div>
  </div>

  <section class="kpi-grid" style="margin-top:.5rem;">
    <a class="kpi-link" href="{% url 'fleet_map_page' %}">
      <div class="kpi-card accent-blue">
        <div>
          <div class="kpi-title">Location</div>
          <div class="kpi-value">Map</div>
        </div>
        <div class="kpi-icon">🗺️</div>
      </div>
    </a>

    <a class="kpi-link" href="{% url 'active_trips_overview' %}">
      <div class="kpi-card accent-amber">
        <div>
          <div class="kpi-title">Active Trips</div>
          <div class="kpi-value">{{ active_trips_count|default:0 }}</div>
        </div>
        <div class="kpi-icon">🧭</div>
      </div>
    </a>

    <a class="kpi-link" href="{% url 'completed_trips_matrix' %}">
      <div class="kpi-card accent-teal">
        <div>
          <div class="kpi-title">Completed Trips</div>
          <div class="kpi-value">{{ completed_trips_count|default:0 }}</div>
        </div>
        <div class="kpi-icon">✅</div>
      </div>
    </a>

    <a class="kpi-link" href="{% url 'driver_performance' %}">
      <div class="kpi-card accent-green">
        <div>
          <div class="kpi-title">Driver Performance</div>
          <div class="kpi-value">View</div>
        </div>
        <div class="kpi-icon">👨‍✈️</div>
      </div>
    </a>
  </section>

  <section class="section" style="margin-top:1rem;">
    <div class="section-header">
      <div class="section-title">Shortcuts</div>
    </div>
    <div class="quick-actions">
      {% if user_role == 'ADMIN' or user_role == 'MANAGER' %}
      <a class="qa-btn" href="{% url 'admin_actions_hub' %}"><span class="qa-ico">🛠️</span><div>Administrative Actions<div class="qa-hint">Users, trucks, drivers</div></div></a>
      {% endif %}
      <a class="qa-btn" href="{% url 'truck-list' %}"><span class="qa-ico">🚚</span><div>Fleet<div class="qa-hint">All trucks</div></div></a>
      <a class="qa-btn" href="{% url 'trip_list' %}"><span class="qa-ico">🧭</span><div>Trips<div class="qa-hint">Manage trips</div></div></a>
      <a class="qa-btn" href="{% url 'report_index' %}"><span class="qa-ico">📊</span><div>Reports<div class="qa-hint">Financials</div></div></a>
    </div>
  </section>
</div>
{% endblock %}
