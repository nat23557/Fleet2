{% extends "index.html" %}
{% load static %}

{% block content %}
<div class="form-container">
  <h2 class="form-title">
    {% if form.instance.pk %}Update Office Usage{% else %}Add Office Usage{% endif %}
  </h2>
  <form method="POST" class="erp-form">
    {% csrf_token %}
    {{ form.non_field_errors }}

    {# Removed truck and user fields because they are set automatically #}

    <div class="form-group">
      <label for="{{ form.start_time.id_for_label }}">Start Time</label>
      {{ form.start_time }}
    </div>

    <div class="form-group">
      <label for="{{ form.end_time.id_for_label }}">End Time</label>
      {{ form.end_time }}
    </div>

    <div class="form-group">
      <label for="{{ form.start_odometer.id_for_label }}">Start Odometer</label>
      {{ form.start_odometer }}
    </div>

    <div class="form-group">
      <label for="{{ form.end_odometer.id_for_label }}">End Odometer</label>
      {{ form.end_odometer }}
    </div>

    <div class="form-group">
      <label for="{{ form.fuel_consumed.id_for_label }}">Fuel Consumed (L)</label>
      {{ form.fuel_consumed }}
    </div>

    <div class="form-group">
      <label for="{{ form.purpose.id_for_label }}">Purpose</label>
      {{ form.purpose }}
    </div>

    <div class="form-group">
      <label for="{{ form.notes.id_for_label }}">Notes</label>
      {{ form.notes }}
    </div>

    <div class="form-actions">
      <button type="submit" class="cta-button">
        {% if form.instance.pk %}Update{% else %}Create{% endif %}
      </button>
      <a href="{% url 'office_usage_list'  truck.pk %}" class="cta-button">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}
